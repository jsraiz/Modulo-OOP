<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OO | JS Raiz</title>
</head>
<body>
  <script type="module">
    import { User } from './src/entities/User.js';
    import { Author } from './src/entities/Author.js';
    import { Storage } from './src/libs/Storage.js'
    import { UserRepository } from './src/repositories/UserRepository.js';
    import { AuthorRepository } from './src/repositories/AuthorRepository.js'


    // userStorage.save({
    //   nome: 'Teshima',
    //   email: 'teshima@jsraiz.com',
    //   foto: 'teshima.jpg'
    // })

    // userStorage.save({
    //   nome: 'José',
    //   email: 'jose@jsraiz.com',
    //   foto: 'jose.jpg'
    // })

    // ingredienteStorage.save({
    //   nome: 'Tomate'
    // })

    // ingredienteStorage.save({
    //   nome: 'Frango'
    // })

    // ingredienteStorage.save({
    //   nome: 'Cebolinha'
    // })

    // const usuarioEncontrado = await userStorage.findOne('65ef20dc-dd5ba8c3');
    // console.log(usuarioEncontrado);

    //console.table(usersAll)


    // const todosIngredientes = await ingredienteStorage.findAll();

    // await ingredienteStorage.findOneAndUpdate('2f90cb11-9a283097', {
    //   descricao: 'Ervilha da boa'
    // })

    // await ingredienteStorage.removeAll();

    //console.table(todosIngredientes);

    const userRepository = new UserRepository(Storage);
    
    const joseUser = await userRepository.save(new User({
      name: 'José',
      email: 'jose@jsraiz.com',
      photo: 'jose.png'
    }));

    // console.log(await userRepository.getById('0b77b62e-09cb233a'))

    // console.log(joaquinaUser);

    // console.log(await userRepository.getAll());

    // const userJoao = await userRepository.getById('db807c74-01d6eef4');
    // console.log(userJoao);

    // userJoao.name = 'João da Silva';
    // console.log(userJoao);

    // const newJoao = await userRepository.update(userJoao);
    // console.log('newJoao', newJoao);

    // await userRepository.removeAll();

    // const userJose = await userRepository.getById('9ac5ad64-52185442');

    // const authorRepository = new AuthorRepository(Storage);

    // await authorRepository.save(
    //   new Author({
    //     recipes: [],
    //     userId: userJose.id
    //   })
    // )


    // await userRepository.remove('bb7b2ca8-9f08eb8a');

    
  </script>
</body>
</html>